<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>C/C++ Logging Frameworks | Ruixiang Du</title>
        
          <meta name="author" content="rxdu">
        
        <meta name="title" content="C/C++ Logging Frameworks" >
        <link rel="icon" type="image/png" href="/favicon.png">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
	<meta name="keywords" content="robotics, embedded, open-source, control, navigation, mobile robot, quadcopter, UAV, motion planning" />


  <meta name="description" content="My goal is to find a lightweight, high-performance logging library for use with C/C++, mostly for robotics control and navigation applications. Ref[1] lists a lot of available C/C++ Logging libraries:

">
  <meta property="og:description" content="My goal is to find a lightweight, high-performance logging library for use with C/C++, mostly for robotics control and navigation applications. Ref[1] lists a lot of available C/C++ Logging libraries:

" />
  <meta name="twitter:description" content="My goal is to find a lightweight, high-performance logging library for use with C/C++, mostly for robotics control and navigation applications. Ref[1] lists a lot of available C/C++ Logging libraries:

" />

<meta property="og:title" content="C/C++ Logging Frameworks" />
<meta property="og:type" content="article" />
<meta property="og:image" content="/sharer.png" />
<meta property="og:url" content="/cpp/programming/2015/05/26/C-and-C-plus-plus-logging-libraries.html" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="C/C++ Logging Frameworks" />
<meta name="twitter:image" content="/sharer.png" />
        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/style.css">
        <link rel="stylesheet" href="/css/monokai.css">
    </head>
    <body class="wrap">
      <!--[if lt IE 8]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
      <![endif]-->
      <link href='http://fonts.googleapis.com/css?family=Rock+Salt' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Courgette' rel='stylesheet' type='text/css'>

<link href='http://fonts.googleapis.com/css?family=Dancing+Script:700' rel='stylesheet' type='text/css'>

<header>
  <h1 class="site-title" style="font-family: 'Dancing Script', serif;"><a href="/">Ruixiang Du</a></h1>
  <!-- <h1 class="site-title"><a href="/">Ruixiang Du</a></h1> -->
  <nav class="main-nav">
    <a href="#" class="opener show-on-mobiles">...</a>
    <div class="clear-opener show-on-mobiles"></div>
    <div class="grid">
      <ul>
        <li><a href="/">Home</a></li>
		<li><a href="/resume">Resume</a></li>
		<li><a href="/research">Research</a></li>
		<!-- <li><a href="/devel_zone">Devel Zone</a></li> -->
    <li><a href="/projects">Projects</a></li>
		<li><a href="/tech_notes">Tech Notes</a></li>
		<li><a href="http://wiki.rdu.im">Wiki</a></li>
      </ul>
    </div>
  </nav>
</header>

      <section class="content">
        <div id="home" class="grid post">
<div class="unit whole">
<article>
	<header>
		<h1>C/C++ Logging Frameworks</h1>
		<p class="meta">
			<time class="timeago postlist-meta" datetime="2015-05-26">May 26, 2015</time>
			<!-- <a class="button blue share" href="#" target="_blank" onclick="window.open('https://www.facebook.com/sharer/sharer.php?u='+window.location.href,'_blank','height=300,width=600');return false;">Share on fb</a>
			
				<a class="button blue share" href="#" target="_blank" onclick="window.open('https://twitter.com/share?url='+window.location.href,'_blank','height=300,width=600');return false;">Share on twitter</a>
			 -->
		</p>
	</header>
	<section>
		<p>My goal is to find a lightweight, high-performance logging library for use with C/C++, mostly for robotics control and navigation applications. Ref[1] lists a lot of available C/C++ Logging libraries:</p>

<ul>
  <li><a href="http://www.boost.org/doc/libs/release/libs/log/">Boost::Log</a></li>
  <li><a href="https://github.com/easylogging/easyloggingpp">EasyLogging++</a></li>
  <li><a href="http://www.codeproject.com/Articles/288827/g-log-An-efficient-asynchronous-logger-using-Cplus">g2log</a></li>
  <li><a href="https://github.com/KjellKod/g3log">g3log</a></li>
  <li><a href="https://code.google.com/p/google-glog/">glog</a></li>
  <li><a href="http://sourceforge.net/projects/log4cplus/">Log4cplus</a></li>
  <li><a href="http://log4cpp.sourceforge.net/">Log4cpp</a></li>
  <li><a href="http://logging.apache.org/log4cxx/">Log4cxx</a></li>
  <li><a href="http://pantheios.sourceforge.net/">Pantheios</a></li>
  <li><a href="https://github.com/gabime/spdlog/">spdlog</a></li>
  <li><a href="https://github.com/mattiasflodin/reckless">reckless</a></li>
  <li><a href="https://github.com/SergiusTheBest/plog">plog</a></li>
  <li><a href="https://github.com/RafaGago/mini-async-log">mini-async-log</a></li>
</ul>

<p>Boost::Log is well implemented and documented, but it’s relatively heavyweight. It also can be more difficult to be adapted for more customized applications, for example an application runs on embedded boards with limited hardware resources. So I rule this option out at the first place.</p>

<p>For rest of the options, they are all free, open-source and lightweight. They can be grouped into two categories: synchronous and asynchronous.</p>

<p><strong>Synchronous libraries</strong>:</p>

<ul>
  <li>EasyLogging++ (asynchronous mode is in experimental stages)</li>
  <li>glog</li>
  <li>Log4cplus</li>
  <li>Log4cpp</li>
  <li>Log4cxx</li>
  <li>Pantheios (with default settings)</li>
  <li>plog</li>
</ul>

<p><strong>Asynchronous libraries</strong>:</p>

<ul>
  <li>reckless</li>
  <li>g2log</li>
  <li>g3log</li>
  <li>spdlog (support both)</li>
  <li>mini-asyn-log</li>
</ul>

<p>Asynchronous libraries use separate threads to handle logs so that it will not block the main application for a long time to wait for the logs written to the disk. Not counting the implementation qualities, asynchronous structure is more suitable for applications that emphasize performance and responsiveness.</p>

<p>Another factor I consider is the activeness of the library development and maintenance. Log4cpp and Pantheios haven’t been updated for a few years. Potentially they may start introducing issues while compilers and OSs are evolving. Other projects seem to be still active.</p>

<ol>
  <li>
    <p>reckless library is claimed to be self-contained without external dependency. However, it acquires this feature by including files from boost library.</p>
  </li>
  <li>
    <p>g2log and g3log are two generations of the same library by the same author. According to the project introduction, g3log includes new features while g2log focuses on reliability and compiler supports. “Only well, time tested, features from g3log will make it into g2log.”[3]</p>
  </li>
  <li>
    <p>spdlog emphasizes speed, just as indicated by its name. I don’t see obvious issues in it and according to the benchmarks it provide, it can be even more efficient than g2log in terms of time needed to log 1,000,000 lines in asynchronous mode.</p>
  </li>
</ol>

<p>———————- Updated on 11/04/2016 ———————–</p>

<p>I’ve been using g3log since the original post of this note. And I’ve integrated it into a few of my robot simulation projects. So far I’m happy with it.</p>

<p>I’m kind of using this library in a non-conventional way, for most of the time. Instead of logging information of events, I’m logging robot state and control data into the log file. Below shows part of a log file created from a quadrotor control simulation.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>g3log created log at: Thu Nov 03 17:37:49 2016

0,	DATA,	pos_x, pos_y, pos_z, pos_d_x, pos_d_y, pos_d_z, pos_e_x, pos_e_y, pos_e_z, quat_x, quat_y, quat_z, quat_w, quat_d_x, quat_d_y, quat_d_z, quat_d_w, yaw, yaw_d, vel_x, vel_y, vel_z, vel_d_x, vel_d_y, vel_d_z, vel_e_x, vel_e_y, vel_e_z, acc_d_x, acc_d_y, acc_d_z, jerk_d_x, jerk_d_y, jerk_d_z, omega_d_x, omega_d_y, omega_d_z
362411,	DATA,	-1.800000 , 2.000000 , 0.040250 , -1.800000 , 0.600000 , 0.800000 , 0.000000 , -1.400000 , 0.759750 , -0.000000 , -0.000000 , -0.382683 , 0.923880 , 0.224765 , 0.000000 , 0.000000 , 0.974413 , -0.785398 , 0.000000 , 0.000000 , 0.000000 , 0.000000 , 0.000000 , 0.000000 , 0.000000 , 0.000000 , 0.000000 , 0.000000 , 0.000000 , 0.000000 , 0.000000 , 0.000000 , 0.000000 , 0.000000 , 24.351215 , -24.351219 , 0.000000
514384,	DATA,	-1.800089 , 1.999949 , 0.040502 , -1.800000 , 0.600000 , 0.800000 , 0.000000 , -1.399949 , 0.759498 , 0.002312 , -0.003727 , -0.382563 , 0.923919 , 0.227719 , 0.001172 , 0.000000 , 0.973726 , -0.785140 , 0.000000 , -0.008881 , -0.005078 , 0.025192 , 0.000000 , 0.000000 , 0.000000 , 0.008881 , 0.005078 , -0.025192 , 0.000000 , 0.000000 , 0.000000 , 0.000000 , 0.000000 , 0.000000 , 0.573633 , -0.284140 , 0.000000
694525,	DATA,	-1.801170 , 1.999592 , 0.043710 , -1.800000 , 0.600000 , 0.800000 , 0.000000 , -1.399592 , 0.756290 , 0.035642 , -0.051991 , -0.380457 , 0.922648 , 0.231559 , 0.009868 , 0.000000 , 0.972771 , -0.780588 , 0.000000 , -0.072777 , -0.022960 , 0.203654 , 0.000000 , 0.000000 , 0.000000 , 0.072777 , 0.022960 , -0.203654 , 0.000000 , 0.000000 , 0.000000 , 0.000000 , 0.000000 , 0.000000 , 1.569197 , 0.506085 , 0.000000
871028,	DATA,	-1.802876 , 1.999059 , 0.049349 , -1.800000 , 0.600000 , 0.800000 , 0.002876 , -1.399059 , 0.750651 , 0.085447 , -0.093776 , -0.375101 , 0.918262 , 0.235515 , 0.012104 , 0.000000 , 0.971795 , -0.764907 , 0.000000 , -0.083995 , -0.027585 , 0.332757 , 0.000000 , 0.000000 , 0.000000 , 0.083995 , 0.027585 , -0.332757 , 0.000000 , 0.000000 , 0.000000 , 0.000000 , 0.000000 , 0.000000 , 0.809954 , -0.320561 , 0.000000
1030266,	DATA,	-1.804119 , 1.998787 , 0.058138 , -1.800000 , 0.600000 , 0.800000 , 0.004119 , -1.398787 , 0.741862 , 0.130342 , -0.076177 , -0.371604 , 0.916034 , 0.242111 , 0.010155 , 0.000000 , 0.970195 , -0.748079 , 0.000000 , -0.067079 , -0.008667 , 0.449114 , 0.000000 , 0.000000 , 0.000000 , 0.067079 , 0.008667 , -0.449114 , 0.000000 , 0.000000 , 0.000000 , 0.000000 , 0.000000 , 0.000000 , 0.810381 , -1.153780 , 0.000000
......
</code></pre></div></div>

<p>From this log file I can recover the robot state and plot data that I’m interested in. For example, the plot created from the above log file is shown below:</p>

<center><img src="/img/posts/cpp_logging_plot.png" width="750" /></center>

<p>I did a little modification to the original library code so that it can output the log data in a format that is easier for me to interpret later from Matlab or other programs.</p>

<p>Otherwise I don’t get any problem that bothers me from using this logging library. If you have any questions in the implementation details or the performance, you can contact with the author of this library directly. He is very nice and replied to my questions fast.</p>

<p>[Reference]</p>

<ol>
  <li><a href="https://github.com/SergiusTheBest/plog">plog git</a></li>
  <li><a href="https://sites.google.com/site/kjellhedstrom2//g2log-efficient-background-io-processign-with-c11#TOC_the_synchronous">g2log presentation</a></li>
  <li><a href="https://github.com/KjellKod/g3log">g3log git</a></li>
</ol>

	</section>
	
	<footer>
		<p><a href="#" id="showComments">Comments</a></p>
		<div id="disqus_thread"></div>
	</footer>
	<script>
		(function(w){
			var hidden = true;
			var disqus_shortname = '';
			var cmtBtn = document.getElementById("showComments");
			var dt = document.getElementById("disqus_thread");

			cmtBtn.addEventListener("click", function(e){
				e.preventDefault();
				if(disqus_shortname === ''){
					disqus_shortname = 'rxdugit';
					dt.innerHTML = 'Loading comments...';
					(function() {
			            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
			            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
			            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
			        })();
				}
				if(hidden){
					dt.setAttribute('style','display:block');
					this.innerHTML = 'Hide Comments';
				}else{
					dt.setAttribute('style','display:none');
					this.innerHTML = 'Comments';
				}
				hidden = !hidden;
			});
		})(window);
	</script>
	
</article>
</div>
</div>

      </section>
      <footer class="grid site-footer">
        <p> &copy;&nbsp; 2019 - Ruixiang Du -
  <span class="credit">Powered by <a href="http://jekyllrb.com">Jekyll</a></span>
      </footer>
      
        <script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-47255965-1', 'rdu.im');
	ga('require', 'displayfeatures');
	ga('send', 'pageview');
</script>

      
      <script>
      document.addEventListener("DOMContentLoaded", function(event) {
        var hidden = true;
        var menu = document.querySelector(".main-nav");
        var opener = document.querySelector(".opener");
        opener.addEventListener("click", function(e){
          e.preventDefault();
          if(hidden){
            menu.setAttribute("class", "main-nav active-menu");
          }else{
            menu.setAttribute("class", "main-nav");
          }
          hidden = !hidden;
        });
      });
      </script>
      
      <!-- Script for search -->
	<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
	<script type="text/javascript">
	
	    function getSearchJSON()
	    {
	        $.getJSON("/search.json", function(e) {
	            console.log("[search.json loaded for instant search]");
	
	            $("#search_results").html("");
	
	            searchJSON = e;
	        });
	    }
	
	    function doSearch(e)
	    {
	        results = [];
	
	        if (e != "")
	        {
	            $.each(searchJSON, function(t, n) {
	                var r = n.title, i = n.title.toLowerCase(), s = n.href, o = n.date;
	                i.indexOf(e)!==-1 && results.push([r, s, o])
	            });
	
	            printResults();
	        }
	        else
	        {
	            $("#search_results").html();
	            results = [];
	            printResults();
	        }
	    }
	
	    function printResults()
	    {
	        var e = $("#search_results");
	
	        e.html("");
	
	        e.html(function() {
	            if (results.length == 0)
	            {
					if ($('#search_input').val() != '')
						e.append('<li style="padding-top: 3px; padding-bottom: 3px"><a style="color: #999; word-wrap: break-word; white-space: normal" href="#">No results found</a></li>');
	            }
	            else
	            {
	                $.each(results, function(t, n) {
	                    e.append('<li style="padding-top: 3px; padding-bottom: 3px"><a style="color: #999; word-wrap: break-word; white-space: normal" href="' + n[1] + '">' + n[0] + '</a></li>');
	                });
	            }
	        });
	    }
	
	    // Show the dropdown menu as long as there are characters in the text field
	    function checkTextField()
	    {
	        // If the value of id search_input is not empty show id search_results otherwise hide it
	        if ($('#search_input').val() != '')
	        {
	            $('#search_results').show();
	        }
	        else
	        {
	            //$('#search_results').hide();
	        }
	    }
	
	    // Hide the dropdown menu if there is a left mouse click outside of it
	    $(document).mouseup(function (e)
	    {
	        //var container = $("#search_results");
	
	        // if the target of the click isn't the
	        // container nor a descendant of the container
	        //if (!container.is(e.target) && container.has(e.target).length === 0)
	        //{
	        //    container.hide();
	        //}
	    });
	
	    $(document).ready(function() {
	        // Create the search index on page load
	        getSearchJSON();
	
	        // Continually update search results as characters are typed
	        $("#search_input").keyup(function() {
	            // Make search inputs are case insensitive
	            var e = $(this).val().toLowerCase();
	
	            // Do the actual search
	            doSearch(e);
	        });
	    });
	
	</script>
    </body>
</html>
